# 编码规范

## 命名规范

### 文件/文件夹

1. 文件和文件夹以中划线隔开的形式命名，如：file-folder，file-folder.js；
2. ./src/ 目录下的文件夹包含一个主要功能，如 ./src/map/ 文件夹是整个底图， ./src/linkage-display/ 文件夹是右侧的联动数据一栏；
3. 每个主要功能文件夹下包含一些功能点，同一个功能点写在同一个 js 文件中；如果一个功能点的业务逻辑比较多，写在同一个文件夹下面；

### JS

1. 私有变量或者局部变量前面加 \_ (单下划线)，后面以小驼峰格式命名，如：\_privateVariable
2. 对象属性用小驼峰格式命名，如：

```

const a = {
  attrName1: 'attrValue1', // 属性名用 小驼峰格式命名
  attrName2: 'attrValue2',
  ...
}

```

3. 在一个 js 文件中的全局变量用小驼峰格式命名
4. 导出的变量用大驼峰格式命名
5. 挂载到 window 对象上的属性名大写，两侧加上 \_（单下划线），如 window\.\_GLOBAL\_ = xxx
6. 环境变量大写，两侧加上\_\_（双下划线），如：\_\_DEV\_\_

### css/less

1. css/less 用中划线形式命名，如：\.css-less

## JSX/JS 部分

- 对所有的引用使用 const -变量用 let 定义，(将 const 和 let 分类)
- 字面量创建对象 const item = {} const items = []
- 不使用保留字作为键值，使用同义词替换需要使用的保留字
- 对象方法简写 addValue() {}
- 使用函数声明代替函数表达式，在对象属性声明前把简写的属性分组

- 不在非函数代码块(if,while 等)声明函数并赋值给一个变量
- 使用函数表达式(传递一个匿名函数)，使用箭头函数符号
- import 不适用通配符\*，不直接从 import 中直接 export
- JSX 中，每个文件只写一个模块，多个无状态模块可以放在单个文件中
- 创建模块：1.1 如果模块有内部状态或是 refs,使用 class extends React.Component
  1.2 如果模块没有状态或者没有引用 refs，使用普通函数
- props 属性：使用唯一 ID，避免使用数组的 index 作为属性 key 的值
- Tags 标签: 对于没有子元素的标签来说总是自己关闭标签, 如果模块有多行的属性， 关闭标签时新建一行.
- 函数：当在 render() 里使用事件处理方法时，提前在构造函数里把 this 绑定上去.

### 数组部分

- 向数组添加元素时，使用 Array.push 替代直接赋值，eg:

```

const a=[]; 
a.push('asdfghj');

```

- 使用拓展运算符...复制数组，eg:

```

const items=[...items];

```

- 使用 Array.from 把一个类数组对象转换成数组，eg:

```

const b = Array.from(a);

```

- 使用解构存取和使用多属性对象

## css 部分

- 尽量不要使用 id 选择器
- 在一个规则声明中应用了多个选择器时，每个选择器独占一行。
- 在规则声明的左大括号 { 前加上一个空格。
- 在属性的冒号 : 后面加上一个空格，前面不加空格。
- 规则声明的右大括号 } 独占一行。
- 规则声明之间用空行分隔开。
- eg:

```

.a {
  width: 10px;
  border: 2px solid #fff;
}

```

- 使用行注释代替块注释，注释独占一行
